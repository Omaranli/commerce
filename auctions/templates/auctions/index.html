{% extends "auctions/layout.html" %}

{% block body %}
    <h2 align="center" class="m-3">Active Listings</h2>
    <div class="container-fluid">
        <div class="row d-flex justify-content-center">
            {% for listing in listings %}
                <div class="col-12 col-sm-6 col-lg-2 border mx-3 mb-5">
                    <div class="row">
                        {% if listing.is_active %}
                            <a href="{% url 'listing' listing.id %}" class="col-12 text-center">
                                <div class="row">
                                    <div class="col-12 text-center pt-3"><img src="{{ listing.image }}" alt="{{ listing.title }}" class="img-fluid p-3" style="max-height: 250px; background-color: green;"></div>
                                    <div class="col-12 text-center mt-3">
                                        <strong style="color: rgb(11, 200, 11);">Active</strong><h6><u>{{ listing.title }}</u>{{ listing.id }}</h6>
                                    </div>
                                </div>
                            </a>
                        {% else %}
                            <a href="" class="col-12 text-center disabled">
                                <div class="row">
                                    <div class="col-12 text-center pt-3" ><img src="{{ listing.image }}" alt="" class="img-fluid p-3" style="max-height: 250px; background-color: rgb(108, 108, 108);"></div>
                                    <div class="col-12 text-center mt-3">Closed<h5><u>{{ listing.title }}</u></h5></div>
                                </div>
                            </a>
                        {% endif %}
                        <div class="col-12">
                            <div class="row">
                                <div class="col-12 text-center mt-3" style="overflow-y: scroll;" id="description">{{ listing.description }}</div>
                                <div class="col-12 text-center"><hr></div>
                                {% if listing.category %}
                                    <div class="col-6">category:</div>
                                    <div class="col-6">{{ listing.category }}</div>
                                {% endif %}
                                <div class="col-6">starting price:</div>
                                <div class="col-6">${{ listing.price }}</div>
                                <div class="col-6">current bid:</div>
                                <div class="col-6">${{ listing.bid }}</div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}